<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head lang="en">

<title th:text="#{page.title.home}">home</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<!-- Custom fonts for this template-->
<link href="../vendor/fontawesome-free/css/all.min.css" th:href="@{/vendor/fontawesome-free/css/all.min.css}"
    rel="stylesheet" type="text/css" />
<link
    href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
    rel="stylesheet">

<!-- Custom styles for this template-->
<link href="../css/sb-admin-2.min.css" th:href="@{/css/sb-admin-2.min.css}" rel="stylesheet" />
</head>
<body>
    <h1 th:text="#{text.welcome}">Welcome</h1>
    
    <div data-ng-app="trendingApp" data-ng-controller="trendingController">
        <div data-ng-repeat="gif in data">
            <img data-ng-src="{{gif.images.fixed_width.url}}" />
        </div>
    </div>
    
        <!-- Bootstrap core JavaScript-->
    <script src="../vendor/jquery/jquery.min.js" th:src="@{/vendor/jquery/jquery.min.js}"></script>
    <script src="../vendor/bootstrap/js/bootstrap.bundle.min.js"
        th:src="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>

    <!-- Core plugin JavaScript-->
    <script src="../vendor/jquery-easing/jquery.easing.min.js" th:src="@{/vendor/jquery-easing/jquery.easing.min.js}"></script>

    <!-- Custom scripts for all pages-->
    <script src="../js/sb-admin-2.min.js" th:src="@{/js/sb-admin-2.min.js}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.7/angular.min.js" th:src="@{/webjars/angularjs/1.7.6/angular.min.js}"></script>
    
    <script>
    var app = angular.module("trendingApp", []);
    app.controller("trendingController", function($scope, $http) {
        $http({
            method : "GET",
            url : "/api/trending"
        }).then(function success(response) {
            console.log(response);
            $scope.data = response.data.data;
        }, function error(response) {
            $scope.welcome = "Error";
        })
    });
    </script>
</body>
</html>